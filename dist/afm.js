!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).afm=t()}(this,(function(){"use strict";return function(e="",t="extension",i=(e=>e)){const n=(e.match(/`{3,3}[^`]+`{3,3}(\n)?/g)||[]).reduce((e,t)=>e.replace(t,""),e).match(/(\s+|\t+)?\>\[\!.*\n((\s+|\t+)?\>[^\[].*\n?){1,}/g)||[];let o=e;for(const e of n){const n=e.split("\n").filter(e=>e.length>0&&/[^\s]+/.test(e)),s=(n[0].match(/\>\[\!(.*)\]/)||[])[1]||"",l=n[0].replace(/\>\[.*/,""),r=n.slice(1,n.length).map(e=>e.replace(/^(\s+|\t+)?\>/,"")).filter((e,t)=>0!==t||e.length>0).join("\n").trim();o=o.replace(n.join("\n"),`${l}<div class="${t} ${s.toLowerCase().replace(/\s/g,"")}"><div>${s}</div><div>${i(r)}</div></div>\n`)}return o=o.replace(/\>\[\!VIDEO\]\((.*)\)/g,`<div class="${t} video"><iframe allowfullscreen embedded-video src="$1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"><source src="$1" type="" /><p>Your browser does not support the iframe element.</p></iframe></div>`),o}}));