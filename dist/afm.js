!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).afm={})}(this,(function(e){"use strict";e.afm=function(e="",t="extension",i=((e="")=>e)){const n=e.includes("\r"),o=n?"\r\n":"\n",s=(e.match(/`{3,3}[^`]+`{3,3}(\r?\n)?/g)||[]).reduce((e,t)=>e.replace(t,""),e).match(/(\s+|\t+)?\>\[\!.*\r?\n((\s+|\t+)?\>[^\[].*\r?\n?){1,}/g)||[];let r=e;for(const e of s){const s=e.split(n?/\r\n/:/\n/).filter(e=>e.length>0&&/[^\s]+/.test(e)),l=(s[0].match(/\>\[\!(.*)\]/)||[])[1]||"",c=s[0].replace(/\>\[.*/,""),d=s.slice(1,s.length).map(e=>e.replace(/^(\s+|\t+)?\>/,"")).filter((e,t)=>0!==t||e.length>0).join(o).trim();r=r.replace(s.join(o),`${c}<div class="${t} ${l.toLowerCase().replace(/\s/g,"")}"><div>${l}</div><div>${i(d)}</div></div>${o}`)}return r=r.replace(/(?<!```\n(\s+|\t+)?)\>\[\!VIDEO\]\((.*)\)/g,`<div class="${t} video"><iframe allowfullscreen embedded-video src="$2" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"><source src="$2" type="" /><p>Your browser does not support the iframe element.</p></iframe></div>`),r},Object.defineProperty(e,"__esModule",{value:!0})}));