function e(e="",t="extension",r=((e="")=>e)){const s=e.includes("\r"),i=s?"\r\n":"\n",n=(e.match(/`{3,3}[^`]+`{3,3}(\r?\n)?/g)||[]).reduce((e,t)=>e.replace(t,""),e).match(/(\s+|\t+)?\>\[\!.*\r?\n((\s+|\t+)?\>[^\[].*\r?\n?){1,}/g)||[];let l=e;for(const e of n){const n=e.split(s?/\r\n/:/\n/).filter(e=>e.length>0&&/[^\s]+/.test(e)),o=(n[0].match(/\>\[\!(.*)\]/)||[])[1]||"",c=n[0].replace(/\>\[.*/,""),a=n.slice(1,n.length).map(e=>e.replace(/^(\s+|\t+)?\>/,"")).filter((e,t)=>0!==t||e.length>0).join(i).trim();l=l.replace(n.join(i),`${c}<div class="${t} ${o.toLowerCase().replace(/\s/g,"")}"><div>${o}</div><div>${r(a)}</div></div>${i}`)}return l=l.replace(/(?<!```\r?\n(\s+|\t+)?)\>\[\!VIDEO\]\((.*)\)/g,`<div class="${t} video"><iframe allowfullscreen embedded-video src="$2" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"><source src="$2" type="" /><p>Your browser does not support the iframe element.</p></iframe></div>`),l}export{e as afm};